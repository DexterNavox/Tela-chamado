<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Detalhes do Chamado</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <!-- Bootstrap Icons CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <style>
        /* Estilos padrão */
        body {
            background-color: #f8f9fa;
            color: #212529;
            padding: 20px;
        }
        .container {
            margin-top: 20px;
            background-color: #ffffff;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        .form-label {
            color: #495057;
        }
        .form-control {
            border-radius: 8px;
            border: 1px solid #ced4da;
            padding: 10px;
        }
        .form-control:focus {
            box-shadow: none;
            border-color: #80bdff;
        }
        .btn-copy {
            margin-top: 20px;
        }
        .text-area {
            display: none;
            margin-top: 20px;
        }

        /* Estilos para modo escuro */
        body.dark-mode {
            background-color: #343a40;
            color: #adb5bd;
        }
        body.dark-mode .container {
            background-color: #495057;
            color: #adb5bd;
        }
        body.dark-mode .form-label {
            color: #ced4da;
        }
        body.dark-mode .form-control {
            border-color: #495057;
        }
        body.dark-mode .form-control:focus {
            border-color: #adb5bd;
            background-color: #495057;
            color: #adb5bd;
        }
        body.dark-mode .btn-primary {
            background-color: #6c757d;
            border-color: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1 class="text-center mb-4">Detalhes do Chamado</h1>
        
        <!-- Botão para alternar entre modo claro e modo escuro -->
        <button class="btn btn-primary mb-3" onclick="toggleDarkMode()"><i class="bi bi-brightness-high-fill"></i></button>
        
        <form id="chamadoForm">
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="numeroChamado" class="form-label">Nº Chamado</label>
                    <input type="text" class="form-control" id="numeroChamado" placeholder="Digite o número do chamado" required>
                </div>
                <div class="col-md-6">
                    <label for="dataHoraChamado" class="form-label">DATA/Hora Chamado</label>
                    <input type="datetime-local" class="form-control" id="dataHoraChamado" placeholder="Digite a data e hora" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="acionamentoSuporte" class="form-label">Acionamento Suporte a Sistema</label>
                    <input type="datetime-local" class="form-control" id="acionamentoSuporte" placeholder="Digite o acionamento" required>
                </div>
                <div class="col-md-6">
                    <label for="criticidade" class="form-label">Criticidade</label>
                    <select class="form-control" id="criticidade" required>
                        <option value="">Selecione a criticidade</option>
                        <option value="Baixa">Baixa</option>
                        <option value="Média">Média</option>
                        <option value="Alta">Alta</option>
                    </select>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="site" class="form-label">SITE</label>
                    <select class="form-control" id="site" required>
                        <option value="">Selecione o site</option>
                        <option value="CABULA">CABULA</option>
                        <option value="CASA">CASA</option>
                        <option value="DEL CASTILHO">DEL CASTILHO</option>
                        <option value="FEIRA DE SANTANA">FEIRA DE SANTANA</option>
                        <option value="GOIANIA">GOIANIA</option>
                        <option value="GUARULHOS">GUARULHOS</option>
                        <option value="LIBERDADE">LIBERDADE</option>
                        <option value="MADUREIRA">MADUREIRA</option>
                        <option value="NOVA SÃO PAULO">NOVA SÃO PAULO</option>
                        <option value="NOVA SÃO PAULO 2">NOVA SÃO PAULO 2</option>
                        <option value="NOVA SEDE">NOVA SEDE</option>
                        <option value="OLIVEIRA COUTINHO">OLIVEIRA COUTINHO</option>
                        <option value="PENHA">PENHA</option>
                        <option value="PORTO ALEGRE">PORTO ALEGRE</option>
                        <option value="PRADO">PRADO</option>
                        <option value="SANTANA">SANTANA</option>
                        <option value="SANTO ANDRÉ">SANTO ANDRÉ</option>
                        <option value="SANTO ANTONIO">SANTO ANTONIO</option>
                        <option value="SÃO BENTO I">SÃO BENTO I</option>
                        <option value="SÃO BENTO II">SÃO BENTO II</option>
                        <option value="SÃO BERNARDO DO CAMPO">SÃO BERNARDO DO CAMPO</option>
                        <option value="SÃO CAETANO DO SUL">SÃO CAETANO DO SUL</option>
                        <option value="SÃO JOSÉ DOS CAMPOS">SÃO JOSÉ DOS CAMPOS</option>
                        <option value="TELEPORTO">TELEPORTO</option>
                        <option value="URUGUAI">URUGUAI</option>
                    </select>
                    
                </div>
                <div class="col-md-6">
                    <label for="aplicacaoOperacao" class="form-label">APLICAÇÃO/OPERAÇÃO</label>
                    <input type="text" class="form-control" id="aplicacaoOperacao" placeholder="Digite a aplicação ou operação" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="pasAfetadas" class="form-label">PAs Afetadas</label>
                    <input type="text" class="form-control" id="pasAfetadas" placeholder="Digite as PAs afetadas" required>
                </div>
                <div class="col-md-6">
                    <label for="areasAcionadas" class="form-label">Áreas Acionadas</label>
                    <input type="text" class="form-control" id="areasAcionadas" placeholder="Digite as áreas acionadas" required>
                </div>
            </div>
            <div class="row mb-3">
                <div class="col-md-6">
                    <label for="problema" class="form-label">Problema</label>
                    <input type="text" class="form-control" id="problema" placeholder="Descreva o problema" required>
                </div>
                <div class="col-md-6">
                    <label for="status" class="form-label">Status</label>
                    <input type="text" class="form-control" id="status" placeholder="Digite o status" required>
                </div>
            </div>
            <button type="button" class="btn btn-primary btn-copy w-100 mt-4" onclick="copyText()">Copiar Detalhes</button>
            <textarea id="textArea" class="form-control text-area mt-3" rows="10"></textarea>
        </form>
    </div>

    <!-- JavaScript para alternar entre modo claro e modo escuro -->
    <script>
        // Função para formatar data e hora
        function formatarDataHora(dataHora) {
            const data = new Date(dataHora);
            const dia = data.getDate().toString().padStart(2, '0');
            const mes = (data.getMonth() + 1).toString().padStart(2, '0');
            const ano = data.getFullYear();
            const hora = data.getHours().toString().padStart(2, '0');
            const minutos = data.getMinutes().toString().padStart(2, '0');
            return `${dia}/${mes}/${ano} ${hora}:${minutos}`;
        }
    
        // Função para copiar detalhes preenchidos para a área de transferência
        function copyText() {
            const numeroChamado = document.getElementById('numeroChamado').value;
            const dataHoraChamado = formatarDataHora(document.getElementById('dataHoraChamado').value);
            const acionamentoSuporte = formatarDataHora(document.getElementById('acionamentoSuporte').value);
            const criticidade = document.getElementById('criticidade').value;
            const site = document.getElementById('site').value;
            const aplicacaoOperacao = document.getElementById('aplicacaoOperacao').value;
            const problema = document.getElementById('problema').value;
            const pasAfetadas = document.getElementById('pasAfetadas').value;
            const areasAcionadas = document.getElementById('areasAcionadas').value;
            const status = document.getElementById('status').value;
    
            const textToCopy = `*Nº Chamado:* ${numeroChamado}
*DATA/Hora chamado:* ${dataHoraChamado}
*Acionamento Suporte a Sistema:* ${acionamentoSuporte}
*Criticidade:* ${criticidade}
*SITE:* ${site}
*APLICAÇÃO/OPERAÇÃO:* ${aplicacaoOperacao}
*Problema:* ${problema}
*PAs afetadas:* ${pasAfetadas}
*Áreas acionadas:* ${areasAcionadas}
*Status:* ${status}`;
    
            const resumo = `[${numeroChamado}] ${aplicacaoOperacao} - ${problema}`;
    
            const finalText = `${textToCopy}\n\nResumo: ${resumo}`;
    
            const textArea = document.getElementById('textArea');
            textArea.value = finalText;
            textArea.style.display = 'block';
            textArea.select();
            document.execCommand('copy');
            alert('Detalhes copiados para a área de transferência!');
        }

        // Função para alternar entre modo claro e modo escuro
        function toggleDarkMode() {
            const body = document.body;
            body.classList.toggle('dark-mode');
    
            // Salvar o tema atual no localStorage
            const theme = body.classList.contains('dark-mode') ? 'dark' : 'light';
            localStorage.setItem('theme', theme);
        }
    
        // Verificar e aplicar o tema salvo
        (function() {
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'dark') {
                document.body.classList.add('dark-mode');
            }
        })();
    </script>
</body>
</html>
